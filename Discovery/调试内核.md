## 内核调试

内核调试材料在 `Discovery/Bochs` 目录下，主要文件如下：

| 文件名               | 用途                                                         |
| -------------------- | ------------------------------------------------------------ |
| hdc-0.11-new.img.zip | 磁盘镜像压缩文件，镜像文件中有两个分区，第一个分区为根文件系统，第二个分区为调试代码 |
| Image                | 系统镜像文件，内核代码编译生成                               |
| config               | 配置文件目录                                                 |
| Data                 | 虚拟机中编译生成的中间文件，拷贝到本地用于分析               |
| hd2                  | 磁盘镜像文件的第二个分区中的调试代码，拷贝到本地通过git跟踪  |
| sync.sh              | 同步本地hd2文件和磁盘镜像第二个分区的脚本                    |
| zip.sh               | 压缩磁盘镜像的脚本                                           |





* 解压磁盘镜像文件

  ```bash
  $ unzip hdc-0.11-new.img.zip
  ```

* 启动bochs虚拟机

  ```bash
  $ bochs -f config/bochs-2.6.8.bxrc
  ```

  注意：此时仅仅有两个配置文件，不同版本的bochs虚拟机不一定能正常启动。只需要设置两个选项`floppya`、`ata0-master`，可以根据配置文件自行调整。







## 调试案例

* [中断响应](#中断响应)
* [信号执行](#信号执行)
* [可执行文件执行](#可执行文件执行)
* [进程调度](#进程调度)
* [变量地址](./调试案例-变量地址.md)

























